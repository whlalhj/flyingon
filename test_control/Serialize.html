<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="no-cache" />
    <title></title>
    <style type="text/css">
        html, body {
            margin: 0;
            height: 100%;
        }
    </style>
</head>
<body style="background-color: yellow;">

    <span id="message"></span>
    <div id="host" style="width: 100%; height: 100%;">
    </div>

    <script src="../js/flyingon.js"></script>

    <script type="text/javascript">


        var w = new flyingon.Window();

        for (var i = 0; i < 10000; i++)
        {
            var control1 = new flyingon.Control();

            control1.storageValue("中国", " v ");
            control1.storageValue("key", 12345);

            var source = new flyingon.DataObject();
            source.defineDataProperty("text", null);
            source.text = "text2";
            source.__reference__ = true;

            control1.setBinding("text", source);
            w.children.append(control1);
        }




        var date = new Date();

        var writer = new flyingon.SerializeWriter();
        var data = writer.serialize(w);

        alert(new Date() - date);



        date = new Date();

        flyingon.__window_host__ = host;

        var reader = new flyingon.SerializeReader();
        var target = reader.deserialize(data);

        target.update();

        alert(new Date() - date);


    </script>

</body>
</html>
